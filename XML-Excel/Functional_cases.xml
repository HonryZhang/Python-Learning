<?xml version="1.0" encoding="UTF-8"?>
<data>
<testsuite id="" name="BD功能测试用例" >
<node_order><![CDATA[]]></node_order>
<details><![CDATA[]]></details> 
<testsuite id="998" name="监视器的部署" >
<node_order><![CDATA[0]]></node_order>
<details><![CDATA[]]></details> 

<testcase internalid="999" name="检查ThunderBD配置文件">
	<node_order><![CDATA[0]]></node_order>
	<externalid><![CDATA[1]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1001" name="创建ThunderBD配置文件">
	<node_order><![CDATA[1]]></node_order>
	<externalid><![CDATA[2]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1003" name="分配集群ID">
	<node_order><![CDATA[2]]></node_order>
	<externalid><![CDATA[3]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1005" name="将ID写入配置文件">
	<node_order><![CDATA[3]]></node_order>
	<externalid><![CDATA[4]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1007" name="配置监视器主机信息">
	<node_order><![CDATA[4]]></node_order>
	<externalid><![CDATA[5]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1017" name="生成监视器映射表">
	<node_order><![CDATA[5]]></node_order>
	<externalid><![CDATA[10]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1009" name="配置监视器IP地址信息">
	<node_order><![CDATA[6]]></node_order>
	<externalid><![CDATA[6]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1011" name="创建集群密钥环">
	<node_order><![CDATA[7]]></node_order>
	<externalid><![CDATA[7]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1013" name="创建管理员密钥环">
	<node_order><![CDATA[8]]></node_order>
	<externalid><![CDATA[8]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1015" name="将管理员密钥加入监视器密钥">
	<node_order><![CDATA[9]]></node_order>
	<externalid><![CDATA[9]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1019" name="创建监视器数据目录">
	<node_order><![CDATA[10]]></node_order>
	<externalid><![CDATA[11]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1021" name="生成监视器初始数据">
	<node_order><![CDATA[11]]></node_order>
	<externalid><![CDATA[12]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1023" name="启动监视器">
	<node_order><![CDATA[12]]></node_order>
	<externalid><![CDATA[13]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1025" name="验证监视器处于运行状态">
	<node_order><![CDATA[13]]></node_order>
	<externalid><![CDATA[14]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>
</testsuite><testsuite id="1027" name="守护进程的部署" >
<node_order><![CDATA[1]]></node_order>
<details><![CDATA[]]></details> 
<testsuite id="1110" name="集群管理" >
<node_order><![CDATA[7]]></node_order>
<details><![CDATA[]]></details> 

<testcase internalid="1111" name="添加监视器(Monitor)">
	<node_order><![CDATA[1000]]></node_order>
	<externalid><![CDATA[54]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1113" name="从集群中删除监视器">
	<node_order><![CDATA[1001]]></node_order>
	<externalid><![CDATA[55]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1115" name="添加OSD">
	<node_order><![CDATA[1002]]></node_order>
	<externalid><![CDATA[56]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1117" name="把OSD踢出集群">
	<node_order><![CDATA[1003]]></node_order>
	<externalid><![CDATA[57]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1119" name="停止OSD">
	<node_order><![CDATA[1004]]></node_order>
	<externalid><![CDATA[58]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1121" name="删除OSD">
	<node_order><![CDATA[1005]]></node_order>
	<externalid><![CDATA[59]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1123" name="集群初始化">
	<node_order><![CDATA[1006]]></node_order>
	<externalid><![CDATA[60]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>
</testsuite>
<testcase internalid="1028" name="OSD主机上创建默认目录">
	<node_order><![CDATA[1000]]></node_order>
	<externalid><![CDATA[15]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1030" name="初始化 OSD 数据目录">
	<node_order><![CDATA[1001]]></node_order>
	<externalid><![CDATA[16]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1032" name="注册OSD密钥">
	<node_order><![CDATA[1002]]></node_order>
	<externalid><![CDATA[17]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1034" name="将OSD加入到CRUSH 图">
	<node_order><![CDATA[1003]]></node_order>
	<externalid><![CDATA[18]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1036" name="设置OSD根目录">
	<node_order><![CDATA[1004]]></node_order>
	<externalid><![CDATA[19]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1038" name="设置OSD在CRUSH图中的权重">
	<node_order><![CDATA[1005]]></node_order>
	<externalid><![CDATA[20]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1040" name="启动OSD服务">
	<node_order><![CDATA[1006]]></node_order>
	<externalid><![CDATA[21]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>
</testsuite><testsuite id="1042" name="查看集群" >
<node_order><![CDATA[2]]></node_order>
<details><![CDATA[]]></details> 

<testcase internalid="1043" name="交互模式查看">
	<node_order><![CDATA[1000]]></node_order>
	<externalid><![CDATA[22]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1045" name="检查集群健康状况">
	<node_order><![CDATA[1001]]></node_order>
	<externalid><![CDATA[23]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1047" name="观察集群实时事件">
	<node_order><![CDATA[1002]]></node_order>
	<externalid><![CDATA[24]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1049" name="检查集群的数据用量及存储池分布情况">
	<node_order><![CDATA[1003]]></node_order>
	<externalid><![CDATA[25]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1051" name="检查集群状态">
	<node_order><![CDATA[1004]]></node_order>
	<externalid><![CDATA[26]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1053" name="检查OSD状态">
	<node_order><![CDATA[1005]]></node_order>
	<externalid><![CDATA[27]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1055" name="检查监视器状态">
	<node_order><![CDATA[1006]]></node_order>
	<externalid><![CDATA[28]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>
</testsuite><testsuite id="1057" name="归置组PG" >
<node_order><![CDATA[3]]></node_order>
<details><![CDATA[]]></details> 

<testcase internalid="1058" name="预定义 PG_NUM">
	<node_order><![CDATA[1000]]></node_order>
	<externalid><![CDATA[29]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1060" name="确定归置组数量">
	<node_order><![CDATA[1001]]></node_order>
	<externalid><![CDATA[30]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1062" name="设置归置组数量">
	<node_order><![CDATA[1002]]></node_order>
	<externalid><![CDATA[31]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1064" name="获取归置组数量">
	<node_order><![CDATA[1003]]></node_order>
	<externalid><![CDATA[32]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1066" name="获取归置组统计信息">
	<node_order><![CDATA[1004]]></node_order>
	<externalid><![CDATA[33]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1068" name="获取卡住的归置组统计信息">
	<node_order><![CDATA[1005]]></node_order>
	<externalid><![CDATA[34]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1070" name="获取归置组运行图">
	<node_order><![CDATA[1006]]></node_order>
	<externalid><![CDATA[35]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1072" name="查看归置组的统计信息">
	<node_order><![CDATA[1007]]></node_order>
	<externalid><![CDATA[36]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1074" name="清除归置组">
	<node_order><![CDATA[1008]]></node_order>
	<externalid><![CDATA[37]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1076" name="恢复丢失的归置组">
	<node_order><![CDATA[1009]]></node_order>
	<externalid><![CDATA[38]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>
</testsuite><testsuite id="1078" name="存储池" >
<node_order><![CDATA[4]]></node_order>
<details><![CDATA[]]></details> 

<testcase internalid="1079" name="列出存储池">
	<node_order><![CDATA[0]]></node_order>
	<externalid><![CDATA[39]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 336px; height: 200px;" /></p>
]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd pool ls查看</p>
<p>
	ceph osd lspools 查看</p>
]]></actions>
	<expectedresults><![CDATA[]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="1081" name="创建一个pool，name为字母">
	<node_order><![CDATA[1]]></node_order>
	<externalid><![CDATA[40]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 336px; height: 200px;" /></p>
]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	使用ceph osd pool create test 128 128</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="3955" name="创建一个pool，name为数字">
	<node_order><![CDATA[2]]></node_order>
	<externalid><![CDATA[83]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 462px; height: 275px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群创建成功</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	&nbsp;ceph osd pool create 1234 128 128&nbsp;</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="3936" name="创建一个pool，name 含有特殊字符">
	<node_order><![CDATA[3]]></node_order>
	<externalid><![CDATA[82]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群创建成功</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd pool !@#$%^&amp;* 128 128</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	-bash: !@#$%^: event not found</p>
<p>
	创建失败</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="3972" name="创建一个pool,name为长字符串">
	<node_order><![CDATA[4]]></node_order>
	<externalid><![CDATA[85]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群创建成功</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd pool create test11111111111111111111111111111111111111111111111111111111111test11111111111111111111111111111111111111111111111111111111111test11111111111111111111111111111111111111111111111111111111111test11111111111111111111111111111111111111111111111111111111111test11111111111111111111111111111111111111111111111111111111111test11111111111111111111111111111111111111111111111111111111111test11111111111111111111111111111111111111111111111111111111111test11111111111111111111111111111111111111111111111111111111111test11111111111111111111111111111111111111111111111111111111111&nbsp;&nbsp;</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="3978" name="创建一个pool，name 为空">
	<node_order><![CDATA[5]]></node_order>
	<externalid><![CDATA[87]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 462px; height: 275px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群创建成功</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd create&nbsp;</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	Invalid command: &nbsp;missing required parameter pool(&lt;poolname&gt;)</div>
<div>
	osd pool create &lt;poolname&gt; &lt;int[0-]&gt; {&lt;int[0-]&gt;} {replicated|erasure} {&lt;erasure_code_profile&gt;} {&lt;ruleset&gt;} {&lt;int&gt;} : &nbsp;create pool</div>
<div>
	Error EINVAL: invalid command</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="3981" name="创建一个pool，不带PG">
	<node_order><![CDATA[6]]></node_order>
	<externalid><![CDATA[88]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群创建成功</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd pool create testsss</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	Invalid command: &nbsp;missing required parameter pg_num(&lt;int[0-]&gt;)</div>
<div>
	osd pool create &lt;poolname&gt; &lt;int[0-]&gt; {&lt;int[0-]&gt;} {replicated|erasure} {&lt;erasure_code_profile&gt;} {&lt;ruleset&gt;} {&lt;int&gt;} : &nbsp;create pool</div>
<div>
	Error EINVAL: invalid command</div>
<div>
	&nbsp;</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="3984" name="创建一个pool ，PG不为整数">
	<node_order><![CDATA[7]]></node_order>
	<externalid><![CDATA[89]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群创建成功</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd pool create wwe ewwe</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	root@node236:~/DenaliBD/scripts/create_cluster_scripts/bluestore# ceph osd pool create wwe ewwe</div>
<div>
	Invalid command: &nbsp;ewwe doesn&#39;t represent an int</div>
<div>
	osd pool create &lt;poolname&gt; &lt;int[0-]&gt; {&lt;int[0-]&gt;} {replicated|erasure} {&lt;erasure_code_profile&gt;} {&lt;ruleset&gt;} {&lt;int&gt;} : &nbsp;create pool</div>
<div>
	Error EINVAL: invalid command</div>
<div>
	&nbsp;</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="3987" name="创建一个pool，pg为负">
	<node_order><![CDATA[8]]></node_order>
	<externalid><![CDATA[90]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd pool create wwe -1</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	Invalid command: &nbsp;-1 not in range [0]</div>
<div>
	osd pool create &lt;poolname&gt; &lt;int[0-]&gt; {&lt;int[0-]&gt;} {replicated|erasure} {&lt;erasure_code_profile&gt;} {&lt;ruleset&gt;} {&lt;int&gt;} : &nbsp;create pool</div>
<div>
	Error EINVAL: invalid command</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="3993" name="创建一个pool ,pgp比pg小">
	<node_order><![CDATA[9]]></node_order>
	<externalid><![CDATA[91]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1085" name="删除一个存在的pool">
	<node_order><![CDATA[10]]></node_order>
	<externalid><![CDATA[42]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd pool rm test test --yes-i-really-really-mean-it</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	删除成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="3959" name="删除一个不存在的pool">
	<node_order><![CDATA[11]]></node_order>
	<externalid><![CDATA[84]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd pool rm test test111111 --yes-i-really-really-mean-it</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	Error EPERM: WARNING: this will *PERMANENTLY DESTROY* all data stored in pool test. &nbsp;If you are *ABSOLUTELY CERTAIN* that is what you want, pass the pool name *twice*, followed by --yes-i-really-really-mean-it.</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4004" name="删除一个pool，name为空">
	<node_order><![CDATA[12]]></node_order>
	<externalid><![CDATA[92]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd pool rm&nbsp;</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	Invalid command: &nbsp;missing required parameter pool(&lt;poolname&gt;)</div>
<div>
	osd pool rm &lt;poolname&gt; {&lt;poolname&gt;} {--yes-i-really-really-mean-it} : &nbsp;remove pool</div>
<div>
	Error EINVAL: invalid command</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="3975" name="将pool rename为一个已经存在的name">
	<node_order><![CDATA[13]]></node_order>
	<externalid><![CDATA[86]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd pool rename test2 1234&nbsp;</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	rename失败</p>
<p>
	Error EEXIST: pool &#39;1234&#39; already exists</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="1087" name="将pool rename为一个不存在的新name">
	<node_order><![CDATA[14]]></node_order>
	<externalid><![CDATA[43]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd pool rename test test11111111111111111</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	pool &#39;test&#39; renamed to &#39;test1111111&#39;</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="1083" name="设置pool配额的最大object为10000">
	<node_order><![CDATA[15]]></node_order>
	<externalid><![CDATA[41]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd pool set-quota rbd max_objects 100000000</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	set-quota max_objects = 100000000 for pool rbd</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4068" name="设置pool配额最大object为负">
	<node_order><![CDATA[16]]></node_order>
	<externalid><![CDATA[97]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 300px; height: 200px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd pool set-quota rbd max_objects -1</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	Error EINVAL: error parsing value &#39;-22&#39;: expected numerical value, got: -100</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4071" name="查看pool配额max object">
	<node_order><![CDATA[17]]></node_order>
	<externalid><![CDATA[98]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd pool get-quota rbd</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	quotas for pool &#39;rbd&#39;:</div>
<div>
	&nbsp; max objects: 97656k objects</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4078" name="设置pool配额的max_bytes为100000000">
	<node_order><![CDATA[18]]></node_order>
	<externalid><![CDATA[99]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd pool set-quota rbd max_bytes 10000000</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	set-quota max_bytes = 10000000 for pool rbd</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4081" name="设置pool配额的max_bytes为负">
	<node_order><![CDATA[19]]></node_order>
	<externalid><![CDATA[100]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd pool set-quota rbd max_bytes -1</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	Error EINVAL: error parsing value &#39;-22&#39;: expected numerical value, got: -1</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4084" name="查看pool配额max  bytes">
	<node_order><![CDATA[20]]></node_order>
	<externalid><![CDATA[101]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd pool get-quota rbd</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	quotas for pool &#39;rbd&#39;:</div>
<div>
	&nbsp; max objects: 97656k objects</div>
<div>
	&nbsp; max bytes &nbsp;: 9765kB</div>
<div>
	&nbsp;</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="1089" name="查看存储池统计信息">
	<node_order><![CDATA[21]]></node_order>
	<externalid><![CDATA[44]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="1091" name="将存在的pool copy到一个存在的pool中">
	<node_order><![CDATA[22]]></node_order>
	<externalid><![CDATA[45]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rados cppool test1 test2</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	&nbsp;</div>
<div>
	WARNING: pool copy does not preserve user_version, which some &nbsp; &nbsp; apps may rely on</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[]]></actions>
	<expectedresults><![CDATA[]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4115" name="将一个不存在的pool copy到一个已知pool中">
	<node_order><![CDATA[23]]></node_order>
	<externalid><![CDATA[102]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<div>
	<div>
		&nbsp;rados cppool test6 test8</div>
	<div>
		&nbsp;</div>
	<div>
		&nbsp;</div>
	<div>
		&nbsp;</div>
</div>
<p>
	&nbsp;</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	error copying pool test6 =&gt; test8: (2) No such file or directory</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4118" name="将一个存在的pool copy到一个不存在的pool">
	<node_order><![CDATA[24]]></node_order>
	<externalid><![CDATA[103]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<div>
	rados cppool test8 test6</div>
<div>
	&nbsp;</div>
<div>
	&nbsp;</div>
<div>
	&nbsp;</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	error copying pool test8 =&gt; test6: (2) No such file or directory</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="1093" name="获取存储池详细信息">
	<node_order><![CDATA[25]]></node_order>
	<externalid><![CDATA[46]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rados df&nbsp;</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	POOL_NAME&nbsp;</p>
<p>
	rbd</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="1095" name="设置pool size为2">
	<node_order><![CDATA[26]]></node_order>
	<externalid><![CDATA[47]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	&nbsp;ceph osd pool set test1 size 2</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	设置成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4016" name="设置pool size大于10">
	<node_order><![CDATA[27]]></node_order>
	<externalid><![CDATA[93]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	&nbsp;ceph osd pool set test1 size 11</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	Error EINVAL: pool size must be between 1 and 10</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[]]></actions>
	<expectedresults><![CDATA[]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="1097" name="获取pool size">
	<node_order><![CDATA[28]]></node_order>
	<externalid><![CDATA[48]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	&nbsp;ceph osd pool get test1 size</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	得到配置的结果为10</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4028" name="设置pool 的min_size为1">
	<node_order><![CDATA[29]]></node_order>
	<externalid><![CDATA[94]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	&nbsp;ceph osd pool set test2 min_size 1</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	set pool 3 min_size to 1</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4045" name="设置pool的min_size 大于size">
	<node_order><![CDATA[30]]></node_order>
	<externalid><![CDATA[95]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	# ceph osd pool set test2 min_size 6</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	Error EINVAL: pool min_size must be between 1 and 5</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4048" name="获取pool的min_size">
	<node_order><![CDATA[31]]></node_order>
	<externalid><![CDATA[96]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 294px; height: 175px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	&nbsp;ceph osd pool get test2 min_size</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	min_size: 1</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>
</testsuite><testsuite id="5480" name="NBD测试2017new" >
<node_order><![CDATA[4]]></node_order>
<details><![CDATA[]]></details> 

<testcase internalid="7457" name="克隆映射NBD后不能删除克隆">
	<node_order><![CDATA[0]]></node_order>
	<externalid><![CDATA[382]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<h3 style="font-size: 12.285px; margin-bottom: 2px; padding: 2px; font-family: &quot;Trebuchet MS&quot;, Arial, Verdana, sans-serif; background-color: rgb(238, 238, 238);" title="TestlinkConvert_V6.15.7.7_New">
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" style="border: none;" /></h3>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: &quot;Trebuchet MS&quot;, Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">1，集群和客户端状态ok 2，已创建pool和快照</span></p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	<span style="font-family: &quot;Trebuchet MS&quot;, Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">创建克隆，并映射为NBD设备</span></p>
]]></actions>
	<expectedresults><![CDATA[<p>
	映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[2]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	尝试删除克隆</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	删除失败，命令提示正确</p>
]]></expectedresults>
	<execution_type><![CDATA[2]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[]]></actions>
	<expectedresults><![CDATA[]]></expectedresults>
	<execution_type><![CDATA[2]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="7452" name="快照映射NBD后不能删除快照">
	<node_order><![CDATA[1]]></node_order>
	<externalid><![CDATA[381]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<h3 style="font-size: 12.285px; margin-bottom: 2px; padding: 2px; font-family: &quot;Trebuchet MS&quot;, Arial, Verdana, sans-serif; background-color: rgb(238, 238, 238);" title="TestlinkConvert_V6.15.7.7_New">
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" style="border: none;" /></h3>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: &quot;Trebuchet MS&quot;, Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">1，集群和客户端状态ok 2，已创建pool和快照</span></p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	<span style="font-family: &quot;Trebuchet MS&quot;, Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">把快照映射为NBD设备</span></p>
]]></actions>
	<expectedresults><![CDATA[<p>
	映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[2]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	尝试删除快照</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	删除失败，命令提示正确</p>
]]></expectedresults>
	<execution_type><![CDATA[2]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[]]></actions>
	<expectedresults><![CDATA[]]></expectedresults>
	<execution_type><![CDATA[2]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5481" name="创建单个NBD映射">
	<node_order><![CDATA[2]]></node_order>
	<externalid><![CDATA[231]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<h3 title="TestlinkConvert_V6.15.7.7_New">
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></h3>
]]></summary>
	<preconditions><![CDATA[<p>
	1，集群和客户端状态ok 2，已创建pool和image</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[1，把已有image映射为NBD设备 ]]></actions>
	<expectedresults><![CDATA[1，添加成功，命令没报错]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[]]></actions>
	<expectedresults><![CDATA[]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5484" name="查询单个NBD映射">
	<node_order><![CDATA[3]]></node_order>
	<externalid><![CDATA[232]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	1，集群和客户端状态ok 2，已创建pool和image</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，把已有image映射为NBD设备</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，使用命令查询NBD设备</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，查询成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5488" name="删除单个NBD映射">
	<node_order><![CDATA[4]]></node_order>
	<externalid><![CDATA[233]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	1，集群和客户端状态ok 2，已创建pool和image</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	把已有image映射为NBD设备</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	使用命令查询NBD设备</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	查询成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	删除该NBD设备</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	删除成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5493" name="多个image映射NBD给一个客户端">
	<node_order><![CDATA[5]]></node_order>
	<externalid><![CDATA[234]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	1，集群和客户端状态ok 2，已创建pool和多个image</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[1，多个image映射给一个客户端]]></actions>
	<expectedresults><![CDATA[1，映射成功]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5496" name="image映射给NBD后修改image名称">
	<node_order><![CDATA[6]]></node_order>
	<externalid><![CDATA[235]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	1，集群和客户端状态ok 2，已创建pool和image</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，NBD添加image映射给一个客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，修改image名称</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，修改成功，NBD设备信息正确</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5500" name="image映射给NBD后修改image大小">
	<node_order><![CDATA[7]]></node_order>
	<externalid><![CDATA[236]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	1，集群和客户端状态ok 2，已创建pool和image</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，NBD添加image映射给一个客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，修改image大小</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，修改成功，NBD设备信息正确</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5504" name="快照克隆映射为NBD后查看能区分出快照类型">
	<node_order><![CDATA[8]]></node_order>
	<externalid><![CDATA[237]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	1，集群和客户端状态ok 2，已创建pool</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[1，映射快照nbd设备； 2，查看nbd设备信息； ]]></actions>
	<expectedresults><![CDATA[1，映射成功 2，查看类型为快照，信息正确]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[1，映射快照nbd设备； 2，查看nbd设备信息； ]]></actions>
	<expectedresults><![CDATA[1，映射成功 2，查看类型为快照，信息正确]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5508" name="克隆映射为NBD后查看能区分出快照类型">
	<node_order><![CDATA[9]]></node_order>
	<externalid><![CDATA[238]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	1，集群和客户端状态ok 2，已创建pool</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，将克隆映射为nbd设备</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，查看nbd设备信息；</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，查看类型为克隆，信息正确</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5512" name="NBD业务读写后修改image名称并重启集群，查看NBD设备信息">
	<node_order><![CDATA[10]]></node_order>
	<externalid><![CDATA[239]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	1，集群和客户端状态ok 2，已创建pool和image</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	NBD添加image映射,对NBD设备业务读写；</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	映射成功，读写业务正常&nbsp;</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	修改image名称</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	修改成功，NBD设备信息正确</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	重启集群查看NBD信息</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	重启后NBD设备信息正确，</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5517" name="image映射给NBD后修改image大小后重启集群">
	<node_order><![CDATA[11]]></node_order>
	<externalid><![CDATA[240]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	NBD添加image映射给一个客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	修改image大小</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	修改成功，NBD设备信息正确</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5521" name="image映射给NBD后网络断开">
	<node_order><![CDATA[12]]></node_order>
	<externalid><![CDATA[250]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	NBD添加image映射给一个客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	断开网络并恢复，查看集群和NBD状态</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	网络恢复后集群正常，NBD设备信息正确</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5525" name="image映射给NBD后重启服务器">
	<node_order><![CDATA[13]]></node_order>
	<externalid><![CDATA[241]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	NBD添加image映射给一个客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	重启集群</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	重启后NBD设备信息正确，</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5529" name="验证NBD设备fdisk分区并fio读写">
	<node_order><![CDATA[14]]></node_order>
	<externalid><![CDATA[251]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	NBD添加image映射给客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	fdisk对NBD设备分区</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	fdisk分区成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	对NBD设备业务读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5534" name="image映射给NBD后重启客户端">
	<node_order><![CDATA[15]]></node_order>
	<externalid><![CDATA[242]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	NBD添加image映射给一个客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	重启客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	重启后NBD设备信息正确，</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5538" name="NBD设备parted分区后，使用vjtree对少量大IO读写">
	<node_order><![CDATA[16]]></node_order>
	<externalid><![CDATA[252]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	1，集群和客户端状态ok 2，已创建pool和多个image</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	NBD添加多个image映射给客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	fdisk对NBD设备分区</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	fdisk分区成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	vjtree对NBD设备业务读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5543" name="NBD映射删除后重启服务器">
	<node_order><![CDATA[17]]></node_order>
	<externalid><![CDATA[243]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	NBD添加image映射给客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	删除NBD映射</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	删除成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	重启服务器查看NBD设备</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	重启后NBD设备信息正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5548" name="NBD设备fdisk分区后，使用vjtree对大量小IO读写">
	<node_order><![CDATA[18]]></node_order>
	<externalid><![CDATA[253]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，NBD添加多个image映射给客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，fdisk对NBD设备分区</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，fdisk分区成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	3，用vjtree大量小IO读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	3，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5553" name="NBD映射删除后重启客户端">
	<node_order><![CDATA[19]]></node_order>
	<externalid><![CDATA[244]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，NBD添加image映射给客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，删除NBD映射</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，删除成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	3，重启客户端查看NBD设备</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	3，重启后NBD设备信息正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5558" name="parted分区操作成功">
	<node_order><![CDATA[20]]></node_order>
	<externalid><![CDATA[254]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，NBD添加image映射给客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，parted对NBD设备分区，使用GPT标签</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，分区成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5562" name="NBD设备业务读写时修改image名称">
	<node_order><![CDATA[21]]></node_order>
	<externalid><![CDATA[245]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，NBD添加image映射给客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，对NBD设备业务读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	3，修改image名称</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	3，修改image名称成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	4，观察业务读写状态</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	4，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5568" name="多个NBD设备parted分区并fio读写">
	<node_order><![CDATA[22]]></node_order>
	<externalid><![CDATA[255]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和多个image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，NBD添加多个image映射给客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，parted对NBD设备分区，使用GPT标签</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，分区成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	3，对NBD设备业务读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	3，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5573" name="fdisk分区操作成功">
	<node_order><![CDATA[23]]></node_order>
	<externalid><![CDATA[246]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，NBD添加image映射给客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	fdisk对NBD设备分区</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	fdisk分区成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5577" name="多个NBD设备parted分区后，使用vjtree对少量大IO读写">
	<node_order><![CDATA[24]]></node_order>
	<externalid><![CDATA[256]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和多个image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，NBD添加多个image映射给客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，parted对NBD设备分区，使用GPT标签</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，分区成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	3，vjtree对NBD设备业务读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	3，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5582" name="多个image映射NBD给多个客户端并裸盘业务读写">
	<node_order><![CDATA[25]]></node_order>
	<externalid><![CDATA[247]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和多个image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，多个image NBD映射给多个客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，所有客户端多个NBD设备业务读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5586" name="多个NBD设备parted分区后，使用vjtree对大量小IO读写">
	<node_order><![CDATA[26]]></node_order>
	<externalid><![CDATA[257]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，NBD添加多个image映射给客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，parted对NBD设备分区，使用GPT标签</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，分区成功&nbsp;</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	3，用vjtree大量小IO读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	3，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5591" name="image映射给NBD后修改image名称后重启集群">
	<node_order><![CDATA[27]]></node_order>
	<externalid><![CDATA[248]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，NBD添加image映射给一个客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，修改image名称</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，修改成功，NBD设备信息正确</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	重启集群，查看NBD设备信息</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	重启后NBD设备信息正确</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5596" name="多个NBD设备parted分区并挂载给本地磁盘fio读写">
	<node_order><![CDATA[28]]></node_order>
	<externalid><![CDATA[258]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和多个image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，NBD添加多个image映射给客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，parted对NBD设备分区，使用GPT标签并挂载到本地磁盘</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，分区成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	3，对NBD设备业务读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	3，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5601" name="image映射给NBD后修改image名称后重启客户端">
	<node_order><![CDATA[29]]></node_order>
	<externalid><![CDATA[249]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，NBD添加image映射给一个客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，修改image名称</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，修改成功，NBD设备信息正确</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	3，重启客户端，查看NBD信息</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	3，重启后NBD设备信息正确</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5606" name="NBD裸设备IO读写时，image名字被更改">
	<node_order><![CDATA[30]]></node_order>
	<externalid><![CDATA[259]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，NBD添加image映射给一个客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，裸盘业务读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	3，修改image名称，查看业务是否正常</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	3，修改成功，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5611" name="NBD裸设备IO读写时，集群重启">
	<node_order><![CDATA[31]]></node_order>
	<externalid><![CDATA[260]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，NBD添加image映射给一个客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，裸盘业务读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	3，集群重启</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	3，重启成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	4，查看业务是否正常</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	4，恢复业务成功，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[5]]></step_number>
	<actions><![CDATA[1，NBD添加image映射给一个客户端； 2，裸盘业务读写 3，集群重启 4，查看业务是否正常]]></actions>
	<expectedresults><![CDATA[1，映射成功 2，业务读写正常 3，重启成功 4，恢复业务成功，业务读写正常]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5618" name="NBD裸设备IO读写时，集群断网">
	<node_order><![CDATA[32]]></node_order>
	<externalid><![CDATA[261]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，NBD添加image映射给一个客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，裸盘业务读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	3，集群断网后恢复</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	3，集群正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	4，恢复业务查看业务是否正常</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	4，业务读写正常；</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[5]]></step_number>
	<actions><![CDATA[1，NBD添加image映射给一个客户端； 2，裸盘业务读写 3，集群断网后恢复 4，恢复业务查看业务是否正常]]></actions>
	<expectedresults><![CDATA[1，映射成功； 2，业务读写正常； 3，集群正常； 4，业务读写正常；]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5625" name="NBD裸设备IO读写时，客户端重启">
	<node_order><![CDATA[33]]></node_order>
	<externalid><![CDATA[262]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，NBD添加image映射给一个客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，裸盘业务读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	3，客户端重启</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	3，重启成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	4，查看业务是否正常</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	4，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5631" name="NBD裸设备IO读写时，客户端进程重启">
	<node_order><![CDATA[34]]></node_order>
	<externalid><![CDATA[263]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，NBD添加image映射给一个客户端</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，裸盘业务读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	3，客户端进程重启</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	3，重启成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	4，手动恢复业务，查看业务是否正常</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	4，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5637" name="NBD设备已创建文件系统，IO读写时，image名字被更改">
	<node_order><![CDATA[35]]></node_order>
	<externalid><![CDATA[264]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image 3，NBD设备已添加并创建文件系统]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，对NBD文件系统业务读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，修改image名称，查看业务是否正常</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，修改成功，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5641" name="NBD设备已创建文件系统，IO读写时，集群重启">
	<node_order><![CDATA[36]]></node_order>
	<externalid><![CDATA[265]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image 3，NBD设备已添加并创建文件系统]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，对NBD文件系统业务读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，集群重启，查看业务是否正常</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，重启后业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5645" name="NBD设备已创建文件系统，IO读写时，集群断网">
	<node_order><![CDATA[37]]></node_order>
	<externalid><![CDATA[266]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image 3，NBD设备已添加并创建文件系统]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，对NBD文件系统业务读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，集群断网并恢复，再次业务读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，再次读写成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	3，查看集群和业务状态</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	3，集群和业务正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5650" name="NBD设备已创建文件系统，IO读写时，客户端重启">
	<node_order><![CDATA[38]]></node_order>
	<externalid><![CDATA[267]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image 3，NBD设备已添加并创建文件系统]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，对NBD文件系统业务读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，客户端重启，查看集群状态</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，重启成功，集群正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	3，手动恢复业务，查看业务是否正常</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	3，修改成功，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5655" name="NBD设备已创建文件系统，IO读写时，客户端进程被杀">
	<node_order><![CDATA[39]]></node_order>
	<externalid><![CDATA[268]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image 3，NBD设备已添加并创建文件系统]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，对NBD文件系统业务读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，客户端进程被杀后再次启动进程</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	3，查看集群和业务是否正常</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	3，集群正常，业务恢复后读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5660" name="NBD设备已创建文件系统，预置数据，集群重启">
	<node_order><![CDATA[40]]></node_order>
	<externalid><![CDATA[269]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image 3，NBD设备已添加并创建文件系统]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[1，对NBD文件系统预置数据 2，集群重启，查看数据是否一致]]></actions>
	<expectedresults><![CDATA[1，业务读写正常 2，重启后业务读写正常]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5663" name="NBD设备已创建文件系统，预置数据，集群断网">
	<node_order><![CDATA[41]]></node_order>
	<externalid><![CDATA[270]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image 3，NBD设备已添加并创建文件系统]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，对NBD文件系统预置数据</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，集群断网并恢复，再次业务读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，再次读写业务正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5667" name="NBD设备已创建文件系统，预置数据，客户端重启">
	<node_order><![CDATA[42]]></node_order>
	<externalid><![CDATA[271]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image 3，NBD设备已添加并创建文件系统]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，对NBD文件系统预置数据</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，业务读写正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	2，客户端重启</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，重启成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	3，查看数据是否一致</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	3，数据一致</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5672" name="NBD设备已创建文件系统，预置数据，客户端进程重启">
	<node_order><![CDATA[43]]></node_order>
	<externalid><![CDATA[272]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool和image 3，NBD设备已添加并创建文件系统]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[1，对NBD文件系统预置数据 2，客户端进程被杀后再次启动进程 3，查看数据是否一致]]></actions>
	<expectedresults><![CDATA[1，映射成功 2，业务读写正常 3，数据一致]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5675" name="NBD MAP命令设置参数device">
	<node_order><![CDATA[44]]></node_order>
	<externalid><![CDATA[273]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[1，添加NBD设备同时指定名称]]></actions>
	<expectedresults><![CDATA[1，添加成功，命令没报错]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5678" name="NBD MAP命令设置参数read-only">
	<node_order><![CDATA[45]]></node_order>
	<externalid><![CDATA[274]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[1，添加NBD设备同时指定只读； 2 对NBD设备分别读和写； ]]></actions>
	<expectedresults><![CDATA[1，添加成功，命令没报错 2，读正常，写失败]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5684" name="NBD MAP命令通过max_part设置最大分区数">
	<node_order><![CDATA[47]]></node_order>
	<externalid><![CDATA[276]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[1，卸载nbd； 2，重新挂载NBD同时用参数max_part指定最大分区数目N； 3，继续尝试创建大于N个nbd分区 ]]></actions>
	<expectedresults><![CDATA[1，卸载成功 2，挂载成功 3，大于N以后创建失败]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5687" name="添加NBD设备后查看iostat显示中device名称是否正确">
	<node_order><![CDATA[48]]></node_order>
	<externalid><![CDATA[277]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[1，映射nbd设备； 2，查看iostat -x 1中NBD信息是否正确； ]]></actions>
	<expectedresults><![CDATA[1，映射成功 2，查看NBD设备名称及其他信息正确]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5690" name="快照映射为NBD并且业务读写">
	<node_order><![CDATA[49]]></node_order>
	<externalid><![CDATA[278]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	1，集群和客户端状态ok 2，已创建pool</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，将映射快照nbd设备； 2，查看nbd设备信息；</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	1，映射成功 2，查看类型为快照，信息正确</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	对映射的裸设备进行读</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	读成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	对映射的裸设备进行写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	写失败</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5693" name="克隆映射为NBD后业务读写">
	<node_order><![CDATA[50]]></node_order>
	<externalid><![CDATA[279]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" /></p>
]]></summary>
	<preconditions><![CDATA[1，集群和客户端状态ok 2，已创建pool]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[1，将克隆映射为nbd设备； 2，查看nbd设备信息； ]]></actions>
	<expectedresults><![CDATA[1，映射成功 2，查看类型为克隆，信息正确]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	将克隆映射的NBD设备用FIO进行读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	读写成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="7447" name="创建image映射NBD后不能删除pool">
	<node_order><![CDATA[51]]></node_order>
	<externalid><![CDATA[380]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<h3 style="font-size: 12.285px; margin-bottom: 2px; padding: 2px; font-family: &quot;Trebuchet MS&quot;, Arial, Verdana, sans-serif; background-color: rgb(238, 238, 238);" title="TestlinkConvert_V6.15.7.7_New">
	<img src="http://192.168.29.101/testlink/third_party/kcfinder/upload_area/images/rbd-nbd%E7%BB%84%E7%BD%91%E5%9B%BE.PNG" style="border: none;" /></h3>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: &quot;Trebuchet MS&quot;, Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">1，集群和客户端状态ok 2，已创建pool和image</span></p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	<span style="font-family: &quot;Trebuchet MS&quot;, Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">把image映射为NBD设备</span></p>
]]></actions>
	<expectedresults><![CDATA[<p>
	映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[2]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	尝试删除image</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	删除失败，命令提示正确</p>
]]></expectedresults>
	<execution_type><![CDATA[2]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	尝试删除pool</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	删除失败，提示正确</p>
]]></expectedresults>
	<execution_type><![CDATA[2]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="7931" name="创建10T image 创建NBD，并进行读写">
	<node_order><![CDATA[52]]></node_order>
	<externalid><![CDATA[388]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd create test/test --size 10T</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	创建NBD</p>
<p>
	rbd-nbd map test/test</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	map 成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	对该NBD设备进行读写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	读写成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>
</testsuite><testsuite id="1099" name="块设备" >
<node_order><![CDATA[5]]></node_order>
<details><![CDATA[]]></details> 

<testcase internalid="1100" name="在rbd 的pool创建一个image，大小为10G">
	<node_order><![CDATA[1000]]></node_order>
	<externalid><![CDATA[49]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 380px; height: 226px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd create test --size 10G</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	正确创建</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="1102" name="在pool rbd下创建一个image，大小为100T">
	<node_order><![CDATA[1001]]></node_order>
	<externalid><![CDATA[50]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 393px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd create test2 --size 100T</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	&nbsp;创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="1104" name="创建一个image ，name 为空">
	<node_order><![CDATA[1002]]></node_order>
	<externalid><![CDATA[51]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[]]></actions>
	<expectedresults><![CDATA[]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	&nbsp;rbd create -p rbd --size 100G</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	rbd: image name was not specified</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="1106" name="创建一个image，name长度超过100字符">
	<node_order><![CDATA[1003]]></node_order>
	<externalid><![CDATA[52]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd create test1/tes111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111dfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv --size 100G</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="1108" name="创建一个image，name含有特殊字符">
	<node_order><![CDATA[1004]]></node_order>
	<externalid><![CDATA[53]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd create test1/!@#$% --size 10G</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	-bash: !@#$%: event not found</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4151" name="创建一个image，不带size">
	<node_order><![CDATA[1005]]></node_order>
	<externalid><![CDATA[104]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd create test/test</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	rbd: must specify --size &lt;M/G/T&gt;</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4160" name="创建一个image，size 为负">
	<node_order><![CDATA[1006]]></node_order>
	<externalid><![CDATA[105]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd create test/test --size -9G</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	rbd: the argument for option &#39;--size&#39; is invalid</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4163" name="创建一个image,pool不存在">
	<node_order><![CDATA[1007]]></node_order>
	<externalid><![CDATA[106]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd create test5/test --size 9G</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	rbd: error opening pool test5: (2) No such file or directory</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4168" name="创建一个存在的image">
	<node_order><![CDATA[1008]]></node_order>
	<externalid><![CDATA[107]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd create test/test --size 10G</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	librbd: rbd image test already exists</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4171" name="查看pool rbd下的image">
	<node_order><![CDATA[1009]]></node_order>
	<externalid><![CDATA[108]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	&nbsp;rbd ls</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	test</div>
<div>
	test2</div>
<div>
	test3</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4174" name="查看非rbd pool下的image">
	<node_order><![CDATA[1010]]></node_order>
	<externalid><![CDATA[109]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd ls test</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	tes5t</div>
<div>
	test</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4177" name="查看image的信息">
	<node_order><![CDATA[1011]]></node_order>
	<externalid><![CDATA[110]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd info test</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	rbd image &#39;test&#39;:</div>
<div>
	size 102400 MB in 25600 objects</div>
<div>
	order 22 (4096 kB objects)</div>
<div>
	block_name_prefix: rbd_data.37876b8b4567</div>
<div>
	format: 2</div>
<div>
	features: layering, exclusive-lock, object-map, fast-diff, deep-flatten</div>
<div>
	flags:&nbsp;</div>
<div>
	&nbsp;</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4198" name="删除rbd pool下的image">
	<node_order><![CDATA[1012]]></node_order>
	<externalid><![CDATA[111]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd rm test</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	Removing image: 100% complete...done</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4201" name="删除非rbd pool下的image">
	<node_order><![CDATA[1013]]></node_order>
	<externalid><![CDATA[112]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd rm test/test</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	Removing image: 100% complete</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4209" name="删除一个不存在的image">
	<node_order><![CDATA[1014]]></node_order>
	<externalid><![CDATA[113]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd rm test1/test2</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	rbd: delete error: (2) No such file or directory</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4212" name="删除一个正在读写的image">
	<node_order><![CDATA[1015]]></node_order>
	<externalid><![CDATA[114]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	&nbsp;rbd rm test1/test1&nbsp;</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	2017-04-26 11:01:28.465065 7f2cb8284dc0 -1 librbd: cannot obtain exclusive lock - not removing</div>
<div>
	Removing image: 0% complete...failed.</div>
<div>
	rbd: error: image still has watchers</div>
<div>
	This means the image is still open or the client using it crashed. Try again after closing/unmapping it or waiting 30s for the crashed client to timeout</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4225" name="删除一个有快照的image">
	<node_order><![CDATA[1016]]></node_order>
	<externalid><![CDATA[115]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd rm test/test</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	2017-04-26 11:18:41.129086 7f699362ddc0 -1 librbd: image has snapshots - not removing</div>
<div>
	Removing image: 0% complete...failed.</div>
<div>
	rbd: image has snapshots - these must be deleted with &#39;rbd snap purge&#39; before the image can be removed</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4236" name="resize image ：减少image size">
	<node_order><![CDATA[1017]]></node_order>
	<externalid><![CDATA[116]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd resize test/test --size 10G --allow-shrink</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	Resizing image: 100% complete</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4244" name="resize image:增加image size">
	<node_order><![CDATA[1018]]></node_order>
	<externalid><![CDATA[117]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd resize test/test --size 600G</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	Resizing image: 100% complete...done.</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[]]></actions>
	<expectedresults><![CDATA[]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4248" name="resize一个正在读写的image">
	<node_order><![CDATA[1019]]></node_order>
	<externalid><![CDATA[118]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd resize test1/test1 --size 500</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	Resizing image: 0% complete...failed.</div>
<div>
	rbd: resize error: (30) Read-only file system</div>
<div>
	&nbsp;</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4253" name="rename image：跨pool rename image">
	<node_order><![CDATA[1020]]></node_order>
	<externalid><![CDATA[119]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd rename test1/test1 test2/test2</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	rbd: mv/rename across pools not supported</div>
<div>
	source pool: test1 dest pool: test2</div>
<div>
	&nbsp;</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4263" name="rename image:rename的image在同一个pool下">
	<node_order><![CDATA[1021]]></node_order>
	<externalid><![CDATA[120]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd rename test/tes5t test/testt</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4267" name="rename一个有IO的image">
	<node_order><![CDATA[1022]]></node_order>
	<externalid><![CDATA[121]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd rename test1/test1 test1/test2</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	rbd: rename error: (30) Read-only file system</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4273" name="将image export 到一个路径下，文件不存在">
	<node_order><![CDATA[1023]]></node_order>
	<externalid><![CDATA[122]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd export test3/test3 ./2</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	Exporting image: 100% complete...done.</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4290" name="将Image export到一个路径下，文件名已存在">
	<node_order><![CDATA[1024]]></node_order>
	<externalid><![CDATA[123]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd export test3/test3 ./1</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	rbd: export error: (17) File exists</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4301" name="rbd import 到一个文件到已存在的image">
	<node_order><![CDATA[1025]]></node_order>
	<externalid><![CDATA[124]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd import 2 test3/test3</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	rbd: image creation failed</div>
<div>
	Importing image: 0% complete...failed.</div>
<div>
	rbd: import failed: (17) File exists</div>
<div>
	2017-04-26 15:17:08.889186 7f3735257dc0 -1 librbd: rbd image test3 already exists</div>
<div>
	&nbsp;</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4308" name="rbd import 一个不存在的image">
	<node_order><![CDATA[1026]]></node_order>
	<externalid><![CDATA[125]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd import 2 test3/test4</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	Importing image: 100% complete...done</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="4313" name="查看image的状态">
	<node_order><![CDATA[1027]]></node_order>
	<externalid><![CDATA[126]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群正常运行</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd status test3/test3</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	Watchers: none</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="7533" name="删除一个NBD map的image">
	<node_order><![CDATA[1028]]></node_order>
	<externalid><![CDATA[383]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/p2.PNG" style="width: 394px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群创建成功</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	创建pool和image</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	将pool image map成NBD设备</p>
<p>
	rbd-nbd map test/test</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	map成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	删除image test</p>
<p>
	rbd rm test/test</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	删除失败</p>
<div>
	Removing image: 0% complete...failed.</div>
<div>
	rbd: error: image still has watchers</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>
</testsuite><testsuite id="1987" name="快照" >
<node_order><![CDATA[6]]></node_order>
<details><![CDATA[]]></details> 

<testcase internalid="1988" name="创建快照">
	<node_order><![CDATA[1000]]></node_order>
	<externalid><![CDATA[62]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/1.png" style="width: 229px; height: 234px; float: left;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	部署Ceph Cluster, 状态为health HEALTH_UP，1个Monitor,2个Node,每个node上5个SSD，每个SSD上对应一个OSD，1个Client. FIO正在Client运行。已经存在pool iamges, 且需要操作的image上没有IO</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	执行命令rbd snap create &lt;poolname/imagename@snapshotname&gt; 为指定的image创建快照</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	1,image快照创建成功</div>
<div>
	2,iostat查看 数据读写正常，FIO运行正常，集群状态正常</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="1994" name="查询快照">
	<node_order><![CDATA[1001]]></node_order>
	<externalid><![CDATA[63]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/1.png" style="width: 229px; height: 234px; float: left;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	部署Ceph Cluster, 状态为health HEALTH_UP，1个Monitor,2个Node,每个node上5个SSD，每个SSD上对应一个OSD，1个Client. FIO正在Client运行。已经存在pool iamges, 且需要操作的image上没有IO</p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	,执行命令rbd snap ls &lt;pool name&gt;/&lt;snap name&gt;查询指定pool中的image snap信息</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	1,命令执行成功，返回正确的snap信息</div>
<div>
	2,iostat查看 数据读写正常，FIO运行正常，集群状态正常</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="1997" name="删除快照">
	<node_order><![CDATA[1002]]></node_order>
	<externalid><![CDATA[64]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/1.png" style="width: 229px; height: 234px; float: left;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: 'Trebuchet MS', Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">部署Ceph Cluster, 状态为health HEALTH_UP，1个Monitor,2个Node,每个node上5个SSD，每个SSD上对应一个OSD，1个Client. FIO正在Client运行。已经存在pool iamges, 且需要操作的image上没有IO</span></p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	执行命令rbd snap rm &lt;poolname/imagename@snapshotname&gt; &nbsp;删除指定image的快照信息</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	删除快照成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	执行命令snap purge &lt;image-name&gt;删除image的所有快照</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	删除iamge的所有快照成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	执行命令查询快照</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	返回错误信息，找不到指定的快照，</p>
<p>
	iostat查看 数据读写正常，FIO运行正常，集群状态正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[]]></actions>
	<expectedresults><![CDATA[]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="2004" name="设置快照保护">
	<node_order><![CDATA[1003]]></node_order>
	<externalid><![CDATA[65]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/1.png" style="width: 229px; height: 234px; float: left;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: 'Trebuchet MS', Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">部署Ceph Cluster, 状态为health HEALTH_UP，1个Monitor,2个Node,每个node上5个SSD，每个SSD上对应一个OSD，1个Client. FIO正在Client运行。已经存在pool iamges, 且需要操作的image上没有IO</span></p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	执行命令rbd snap protect &lt;poolname/imagename@snapshotname&gt;&nbsp;</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	保护快照设置成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	执行快照删除命令，删除步骤1中的快照</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	快照删除失败，提示rbd: snapshot xxx is protected from removal.</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	执行命令rbd snap unprotect &lt;poolname/imagename@snapshotname&gt; &nbsp;解除保护快照</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	解除保护快照成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	执行快照删除命令，删除步骤1中的快照</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	快照删除成功</div>
<div>
	iostat查看 数据读写正常，FIO运行正常，集群状态正常</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="2017" name="快照回滚">
	<node_order><![CDATA[1004]]></node_order>
	<externalid><![CDATA[66]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/1.png" style="width: 229px; height: 234px; float: left;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: 'Trebuchet MS', Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">部署Ceph Cluster, 状态为health HEALTH_UP，1个Monitor,2个Node,每个node上5个SSD，每个SSD上对应一个OSD，1个Client. FIO正在Client运行。已经存在pool iamges, 且需要操作的image上没有IO</span></p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	创建pool image</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建pool image成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	创建快照：rbd snap create poolname/imagename@snapname1</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建快照成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	用fio对该image进行随机写</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	fio随机写成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	执行命令将某个镜像回滚到某个快照的时态：rbd snap rollback &lt;poolname/imagename@snapshotname1&gt;&nbsp;</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	回滚正确</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="2023" name="分层快照">
	<node_order><![CDATA[1005]]></node_order>
	<externalid><![CDATA[67]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/1.png" style="width: 229px; height: 234px; float: left;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: 'Trebuchet MS', Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">部署Ceph Cluster, 状态为health HEALTH_UP，1个Monitor,2个Node,每个node上5个SSD，每个SSD上对应一个OSD，1个Client. FIO正在Client运行。已经存在pool iamges, 且需要操作的image上没有IO</span></p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	执行命令：rbd snap protect &lt;poolname&gt;/&lt;imagename&gt;@&lt;snapname&gt;设置镜像保护</p>
<p>
	&nbsp;</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	设置保护快照成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	克隆快照：rbd clone &lt;poolname/imagename@snapshotname&gt; &lt;newpoolname/imagename&gt;</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	克隆快照成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<div>
	列出快照的children信息：</div>
<div>
	rbd children&lt;poolname/imagename&gt;@snapshotname&gt;&nbsp;</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	快照的子快照信息查询成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<div>
	有children的快照无法删除</div>
<div>
	rbd snap rm &nbsp;&lt;poolname&gt;/&lt;imagename&gt;@&lt;snapname&gt;</div>
]]></actions>
	<expectedresults><![CDATA[<div>
	提示无法删除</div>
<div>
	iostat查看 数据读写正常，FIO运行正常，集群状态正常</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="2035" name="快照数据恢复">
	<node_order><![CDATA[1006]]></node_order>
	<externalid><![CDATA[68]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/1.png" style="width: 229px; height: 234px; float: left;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: 'Trebuchet MS', Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">部署Ceph Cluster, 状态为health HEALTH_UP，1个Monitor,2个Node,每个node上5个SSD，每个SSD上对应一个OSD，1个Client. FIO正在Client运行。已经存在pool iamges, 且需要操作的image上没有IO</span></p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	创建pool和1个10GBimage (myimage)</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建pool和image成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	映射image:rbd-nbd map mypool/myimage</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<div>
	格式化image并建立挂载点，挂载磁盘：</div>
<div>
	mkfs.ext4 /dev/nbd0</div>
<div>
	mkdir /myimage</div>
<div>
	mount /dev/rbd0 /myimage/</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	格式化和map成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	在myimage目录下创建1个文件并查看数据生成1.txt</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建1.txt成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[5]]></step_number>
	<actions><![CDATA[<div>
	创建snap1</div>
<div>
	rbd snap create &lt;pool name&gt;/&lt;snap name&gt;</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建snap1成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[6]]></step_number>
	<actions><![CDATA[<p>
	在myimage目录下再创建1个文件并查看数据生成2.txt</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建2.txt成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[7]]></step_number>
	<actions><![CDATA[<div>
	将image rollback到snap1</div>
<div>
	rbd snap rollback</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	rollback成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[8]]></step_number>
	<actions><![CDATA[<p>
	在myimage目录下查看只有文件1.txt</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	myimage只有1.txt，且数据与第四步相同</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="2049" name="验证数据恢复">
	<node_order><![CDATA[1007]]></node_order>
	<externalid><![CDATA[69]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/1.png" style="width: 229px; height: 234px; float: left;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: 'Trebuchet MS', Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">部署Ceph Cluster, 状态为health HEALTH_UP，1个Monitor,2个Node,每个node上5个SSD，每个SSD上对应一个OSD，1个Client. FIO正在Client运行。已经存在pool iamges, 且需要操作的image上没有IO</span></p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	创建pool和两个10GBimage (myimage, myimage1)</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	pool和image都创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	映射image:rbd-nbd map mypool/myimage</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	映射my image成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<div>
	格式化两个image并建立挂载点，挂载磁盘：</div>
<div>
	mkfs.ext4 /dev/nbd0</div>
<div>
	mkdir /myimage</div>
<div>
	mount /dev/nbd0 /myimage/</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	挂载images成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	验证查看挂载分区：df -Th</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	返回正确的分区信息</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[5]]></step_number>
	<actions><![CDATA[<p>
	在myimage目录下创建文件并查看数据生成：touch /myimage/{1..10}myimage.data.txt</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	生成测试数据成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[6]]></step_number>
	<actions><![CDATA[<p>
	为myimage创建一个快照：rbd snap ls mypool/myimage</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建快照成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[7]]></step_number>
	<actions><![CDATA[<p>
	删除myimage目录下所有文件：rm -rf /myimage/*</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	删除测试文件成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[8]]></step_number>
	<actions><![CDATA[<p>
	卸载目录：umount &nbsp;/myimage/</p>
<p>
	unamp nbd0:rbd-nbd unmap /dev/nbd0</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	卸载成功</p>
<p>
	umap成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[9]]></step_number>
	<actions><![CDATA[<p>
	回滚快照：rbd snap rollback mypool/myimage@myimagesnap</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	回滚快照成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[10]]></step_number>
	<actions><![CDATA[<p>
	重新映射：rbd-nbd map mypool/myimage</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	映射成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[11]]></step_number>
	<actions><![CDATA[<p>
	重新挂载myimage: mount /dev/rbd0 /myimage</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	重新挂载成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[12]]></step_number>
	<actions><![CDATA[<p>
	查看数据是否已经恢复：ll /myimage</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	数据恢复，属性一致</div>
<div>
	iostat查看 数据读写正常，FIO运行正常，集群状态正常</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="2078" name="反复创建删除快照">
	<node_order><![CDATA[1008]]></node_order>
	<externalid><![CDATA[70]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/1.png" style="width: 229px; height: 234px; float: left;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: 'Trebuchet MS', Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">部署Ceph Cluster, 状态为health HEALTH_UP，1个Monitor,2个Node,每个node上5个SSD，每个SSD上对应一个OSD，1个Client. FIO正在Client运行。已经存在pool iamges, 且需要操作的image上没有IO</span></p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	创建10个image 快照</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	所有快照设置写保护</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	设置写保护成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	删除所有快照写保护</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	删除写保护成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	删除所有快照</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	删除快照成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[5]]></step_number>
	<actions><![CDATA[<p>
	重复步骤1-4至少5次，验证集群状态</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	集群状态正常，OSD状态正常</div>
<div>
	iostat查看 数据读写正常，FIO运行正常，集群状态正常</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="2088" name="同pool验证image clone数据恢复">
	<node_order><![CDATA[1009]]></node_order>
	<externalid><![CDATA[71]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/1.png" style="width: 229px; height: 234px; float: left;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: 'Trebuchet MS', Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">部署Ceph Cluster, 状态为health HEALTH_UP，1个Monitor,2个Node,每个node上5个SSD，每个SSD上对应一个OSD，1个Client. FIO正在Client运行。已经存在pool iamges, 且需要操作的image上没有IO</span></p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	创建1个快照</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建快照成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<div>
	将创建的快照clone到相同的pool,并重新命名</div>
<div>
	rbd clone mypool/myimage5@myimage5.snap1 rbd/clone-myimage5</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建clone image成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	查看image信息：rbd ls</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	返回两个image信息，属性一致</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<div>
	将clone image映射到主机并挂载：</div>
<div>
	rbd map rbd/clone-myimage5</div>
<div>
	mkdir /clone-myimage5，如果挂载失败，检查源镜像是否已经挂载，如果是，需要先卸载源image 的map，</div>
<div>
	然后重新挂载clone image</div>
<div>
	mount /dev/rbd2 /clone-myimage5/</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	挂载clone image成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[5]]></step_number>
	<actions><![CDATA[<div>
	查看源镜像和clone 镜像数据是否一致</div>
<div>
	ll /clone-myimage5/ 和ll /myimage5/</div>
]]></actions>
	<expectedresults><![CDATA[<div>
	数据一致</div>
<div>
	iostat查看 数据读写正常，FIO运行正常，集群状态正常</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="2101" name="不同pool验证image clone数据恢复">
	<node_order><![CDATA[1010]]></node_order>
	<externalid><![CDATA[72]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/1.png" style="width: 229px; height: 234px; float: left;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: 'Trebuchet MS', Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">部署Ceph Cluster, 状态为health HEALTH_UP，1个Monitor,2个Node,每个node上5个SSD，每个SSD上对应一个OSD，1个Client. FIO正在Client运行。已经存在pool iamges, 且需要操作的image上没有IO</span></p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	创建1个快照</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<div>
	将创建的快照clone到其他的pool,并重新命名</div>
<div>
	rbd clone mypool/myimage5@myimage5.snap1 rbd/clone-myimage5</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建clone image成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	查看image信息：rbd ls</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	返回两个image信息，属性一致</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<div>
	将clone image映射到主机并挂载：</div>
<div>
	rbd-nbd map rbd/clone-myimage5</div>
<div>
	mkdir /clone-myimage5</div>
<div>
	mount /dev/rbd2 /clone-myimage5/</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	挂载clone image成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[5]]></step_number>
	<actions><![CDATA[<div>
	查看源镜像和clone 镜像数据是否一致</div>
<div>
	ll /clone-myimage5/ 和ll /myimage5/</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	数据一致</p>
<p>
	iostat查看 数据读写正常，FIO运行正常，集群状</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="2120" name="相同pool反复创建删除clone image">
	<node_order><![CDATA[1011]]></node_order>
	<externalid><![CDATA[73]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/1.png" style="width: 229px; height: 234px; float: left;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: 'Trebuchet MS', Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">部署Ceph Cluster, 状态为health HEALTH_UP，1个Monitor,2个Node,每个node上5个SSD，每个SSD上对应一个OSD，1个Client. FIO正在Client运行。已经存在pool iamges, 且需要操作的image上没有IO</span></p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	创建5个快照</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	快照创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<div>
	将创建的快照clone到相同的pool,并重新命名</div>
<div>
	rbd clone mypool/myimage5@myimage5.snap1 rbd/clone-myimage5</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建clone image 成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	查看image信息：rbd ls</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	返回images 信息，属性一致</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	删除clone images,并查看image 信息</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	删除clone image成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[5]]></step_number>
	<actions><![CDATA[<p>
	重复步骤1-4至少5次</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	集群状态正常，OSD状态正常</div>
<div>
	iostat查看 数据读写正常，FIO运行正常，集群状态正常</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="2136" name="不同pool下反复创建删除clone image">
	<node_order><![CDATA[1012]]></node_order>
	<externalid><![CDATA[74]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/1.png" style="width: 229px; height: 234px; float: left;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: 'Trebuchet MS', Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">部署Ceph Cluster, 状态为health HEALTH_UP，1个Monitor,2个Node,每个node上5个SSD，每个SSD上对应一个OSD，1个Client. FIO正在Client运行。已经存在pool iamges, 且需要操作的image上没有IO</span></p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	创建5个快照</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	快照创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<div>
	将创建的快照clone到不同的pool,并重新命名</div>
<div>
	rbd clone mypool/myimage5@myimage5.snap1 rbd/clone-myimage5</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建clone image 成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	查看image信息：rbd ls</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	返回images 信息，属性一致</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	删除clone images,并查看image 信息</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	删除clone image成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[5]]></step_number>
	<actions><![CDATA[<p>
	重复步骤1-4至少5次</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	集群状态正常，OSD状态正常&nbsp;</div>
<div>
	iostat查看 数据读写正常，FIO运行正常，集群状态正常</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="2143" name="反复修改image大小">
	<node_order><![CDATA[1013]]></node_order>
	<externalid><![CDATA[75]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/1.png" style="width: 229px; height: 234px;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: 'Trebuchet MS', Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">部署Ceph Cluster, 状态为health HEALTH_UP，1个Monitor,2个Node,每个node上5个SSD，每个SSD上对应一个OSD，1个Client. FIO正在Client运行。已经存在pool iamges, 且需要操作的image上没有IO</span></p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	创建1个50GB的iamge</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	扩展image的大小到100G，执行命令rbd resize --size &lt;MB&gt; &lt;image-name&gt;</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	扩展image size成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	执行查询命令查询image 信息</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	返回正确的image 信息：image为100G</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	压缩image的大小到50G</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	压缩image size成功，</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[5]]></step_number>
	<actions><![CDATA[<p>
	执行命令查新image信息</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	查询返回正确信息</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[6]]></step_number>
	<actions><![CDATA[<p>
	执行步骤1-5至少10次</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	集群状态正常，OSD状态正常</div>
<div>
	iostat查看 数据读写正常，FIO运行正常，集群状态正常</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="2162" name="设置快照个数">
	<node_order><![CDATA[1014]]></node_order>
	<externalid><![CDATA[76]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/1.png" style="width: 229px; height: 234px; float: left;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: 'Trebuchet MS', Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">部署Ceph Cluster, 状态为health HEALTH_UP，1个Monitor,2个Node,每个node上5个SSD，每个SSD上对应一个OSD，1个Client. FIO正在Client运行。已经存在pool iamges, 且需要操作的image上没有IO</span></p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	创建1个pool和1个image&nbsp;</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<div>
	设置创建image下创建snap的最大值</div>
<div>
	rbd snap limit set test_pool/test_image --limit 5</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	设置快照最大限制为5，设置成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	基于test_pool/test_image创建5个快照</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	成功创建5个快照</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	创建第6个快照</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建第6个快照失败</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[5]]></step_number>
	<actions><![CDATA[<p>
	清除快照上限</p>
<p>
	rbd snap limit clear</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	设置成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[6]]></step_number>
	<actions><![CDATA[<p>
	再创建一个快照</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="2200" name="单个image满配snap">
	<node_order><![CDATA[1015]]></node_order>
	<externalid><![CDATA[77]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/1.png" style="width: 229px; height: 234px; float: left;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: 'Trebuchet MS', Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">部署Ceph Cluster, 状态为health HEALTH_UP，1个Monitor,2个Node,每个node上5个SSD，每个SSD上对应一个OSD，1个Client. FIO正在Client运行。已经存在pool iamges, 且需要操作的image上没有IO</span></p>
<p>
	<span style="font-family: 'Trebuchet MS', Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">默认单个image下最多可创建100个快照</span></p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	创建1个pool和1个image&nbsp;</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	在创建的image下创建100个snap</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	创建101个snap</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建失败</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="2209" name="export-import 导出快照时刻差量文件">
	<node_order><![CDATA[1016]]></node_order>
	<externalid><![CDATA[78]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/1.png" style="width: 229px; height: 234px; float: left;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: 'Trebuchet MS', Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">部署Ceph Cluster, 状态为health HEALTH_UP，1个Monitor,2个Node,每个node上5个SSD，每个SSD上对应一个OSD，1个Client. FIO正在Client运行。已经存在pool iamges, 且需要操作的image上没有IO</span></p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	创建pool,image1,fio进行读写，导出image从创建到此刻的变化:将pool/image1从创建到此刻的差量保存至image1diff文件:rbd export-diff pool/image1 image1diff</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建pool image成功，导出差量文件成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<div>
	再进行fio读写一段时间，创建快照，导出image从创建到某快照时刻的变化:</div>
<div>
	将pool/image1创建时和快照snap1的差量保存至image1s1diff文件</div>
<div>
	rbd export-diff pool/image1@snap1 image1s1diff</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	导出快照时刻差量问价成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<div>
	再用fio读写一段时间，导出image此刻和快照snap1时刻的变化</div>
<div>
	例如，将现在pool/image1和快照snap1的差量保存至image1s1diff2文件</div>
<div>
	rbd export-diff pool/image1 &ndash;from-snap snap1 image1s1diff2</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	从snap1时刻到此刻文件差量保存成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="2241" name="import-diff导入某个快照时刻image，并进行全量量恢复">
	<node_order><![CDATA[1017]]></node_order>
	<externalid><![CDATA[79]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/1.png" style="width: 229px; height: 234px; float: left;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: 'Trebuchet MS', Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">部署Ceph Cluster, 状态为health HEALTH_UP，1个Monitor,2个Node,每个node上5个SSD，每个SSD上对应一个OSD，1个Client. FIO正在Client运行。已经存在pool iamges, 且需要操作的image上没有IO</span></p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	创建pool,image1,image2,对image1用fio进行读写，停止IO，创建image1的快照snap，且将该时刻与开始创建image1时差量进行导出：rbd export-diff pool/image1@snap image1diff</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建快照成功，导出差量文件成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<div>
	用创建快照时刻增量进行全量恢复到image2</div>
<div>
	rbd import-diff image1diff pool/image2</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	导入差量文件到image2成功，image2和创建snap时image相同</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="2245" name="import-diff导入某个snap时刻image，并进行增量恢复">
	<node_order><![CDATA[1018]]></node_order>
	<externalid><![CDATA[80]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	<img alt="" src="/testlink/third_party/kcfinder/upload_area/images/1.png" style="width: 229px; height: 234px; float: left;" /></p>
]]></summary>
	<preconditions><![CDATA[<p>
	<span style="font-family: 'Trebuchet MS', Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">部署Ceph Cluster, 状态为health HEALTH_UP，1个Monitor,2个Node,每个node上5个SSD，每个SSD上对应一个OSD，1个Client. FIO正在Client运行。已经存在pool iamges, 且需要操作的image上没有IO</span></p>
]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[3]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>7</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	创建pool,image1,image2,对image1用fio进行读写，停止IO，创建image1的快照snap1，且将该时刻与开始创建image1时差量进行导出：rbd export-diff pool/image1 image1diff</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	snap1时刻差量导出成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<div>
	用fio对image1再进行读写，停止fio,创建快照snap2,将该时刻与创建snap2时刻差量进行导出：</div>
<div>
	rbd export-diff pool/image1 image1diff</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	snap2时刻差量导出成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	将snap1时刻和snap2时刻的差量进行导出:rbd export-diff pool/image1 --from-snap snap1 image1snap12diff</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	snap1和snap2时刻之间的差量导出成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	在image2下基于snap1时刻做快照恢复</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	image2恢复成snap1时刻</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[5]]></step_number>
	<actions><![CDATA[<div>
	image2下基于 snap2到snap1差量做快照恢复</div>
<div>
	rbd import-diff image1snap12diff pool/image2</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	image2恢复成snap2时刻</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="6157" name="创建一个快照，name 为空">
	<node_order><![CDATA[1020]]></node_order>
	<externalid><![CDATA[338]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd snap create rbd/test@</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	rbd: invalid spec &#39;rbd/test@&#39;</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="6160" name="创建快照，name过长">
	<node_order><![CDATA[1021]]></node_order>
	<externalid><![CDATA[339]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd snap create rbd/test@123456789000000000000000000000000000000sddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="6163" name="创建快照，name含有特殊字符">
	<node_order><![CDATA[1022]]></node_order>
	<externalid><![CDATA[340]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd snap create rbd/test@!@#$%^</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	-bash: !@#$%^: event not found</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="6166" name="在一个不存在的pool下创建快照">
	<node_order><![CDATA[1023]]></node_order>
	<externalid><![CDATA[341]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	&nbsp;rbd snap create test1/test@snap</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	rbd: error opening pool test1: (2) No such file or directory</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="6169" name="在一个不存在的image下创建快照">
	<node_order><![CDATA[1024]]></node_order>
	<externalid><![CDATA[342]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd snap create rbd/test1@snap</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	rbd: error opening image test1: (2) No such file or directory</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="6172" name="同一个image下创建同名字的快照">
	<node_order><![CDATA[1025]]></node_order>
	<externalid><![CDATA[343]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd snap create rbd/test@snap</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	rbd: failed to create snapshot: (17) File exists</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="6175" name="删除一个不存在的快照">
	<node_order><![CDATA[1026]]></node_order>
	<externalid><![CDATA[344]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd snap rm rbd/test@snap1</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	Removing snap: 0% complete...failed.</div>
<div>
	rbd: failed to remove snapshot: (2) No such file or directory</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="6178" name="删除一个protect的快照">
	<node_order><![CDATA[1027]]></node_order>
	<externalid><![CDATA[345]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd snap rm rbd/test@snap</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	Removing snap: 0% complete...failed.</div>
<div>
	rbd: snapshot &#39;snap&#39; is protected from removal.</div>
<div>
	2017-04-28 07:42:52.221814 7f11ba22f700 -1 librbd::Operations: snapshot is protected</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="6181" name="删除一个有快照的image">
	<node_order><![CDATA[1028]]></node_order>
	<externalid><![CDATA[346]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	&nbsp;rbd rm rbd/test</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	2017-04-28 07:52:24.737328 7f4a32ae8d40 -1 librbd: image has snapshots - not removing</div>
<div>
	Removing image: 0% complete...failed.</div>
<div>
	rbd: image has snapshots - these must be deleted with &#39;rbd snap purge&#39; before the image can be removed.</div>
<div>
	&nbsp;</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="6186" name="回滚一个没有创建过的快照">
	<node_order><![CDATA[1029]]></node_order>
	<externalid><![CDATA[348]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd snap rollback rbd/test@snap5</p>
]]></actions>
	<expectedresults><![CDATA[<div>
	Rolling back to snapshot: 0% complete...failed.</div>
<div>
	rbd: rollback failed: (2) No such file or directory</div>
<div>
	2017-04-28 08:08:54.518638 7f3632ec7d40 -1 librbd::Operations: No such snapshot found.</div>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="6189" name="克隆一个没有保护的快照">
	<node_order><![CDATA[1030]]></node_order>
	<externalid><![CDATA[349]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd clone test2@snap test3</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2017-04-28 09:02:02.696769 7fe7d4f5ad40 -1 librbd: parent snapshot must be protectedrbd: clone error: (22) Invalid argument</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="6192" name="有IO下创建快照">
	<node_order><![CDATA[1031]]></node_order>
	<externalid><![CDATA[350]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	rbd snap create test2@snap</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="6195" name="有IO下回滚某快照">
	<node_order><![CDATA[1032]]></node_order>
	<externalid><![CDATA[351]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[]]></actions>
	<expectedresults><![CDATA[<p>
	回滚失败</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="6198" name="将快照克隆成一个已经存在的image">
	<node_order><![CDATA[1033]]></node_order>
	<externalid><![CDATA[352]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	&nbsp;rbd clone rbd/test@snap test/test</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	rbd: clone error: (17) File exists</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="7913" name="快照回滚时，重启客户端">
	<node_order><![CDATA[1034]]></node_order>
	<externalid><![CDATA[386]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="7915" name="快照clone成新的image后，flatten 时重启客户端">
	<node_order><![CDATA[1035]]></node_order>
	<externalid><![CDATA[387]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>
</testsuite><testsuite id="4547" name="添加mon/osd" >
<node_order><![CDATA[8]]></node_order>
<details><![CDATA[]]></details> 

<testcase internalid="5831" name="在server端添加一个monitor">
	<node_order><![CDATA[1000]]></node_order>
	<externalid><![CDATA[329]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	使用脚本或者手动添加一个monitor</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="5958" name="创建一个monitor后，再创建一个osd">
	<node_order><![CDATA[1001]]></node_order>
	<externalid><![CDATA[330]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="6115" name="创建一个moniotr后，一个server节点添加多个osd">
	<node_order><![CDATA[1002]]></node_order>
	<externalid><![CDATA[331]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="6117" name="在第二个节点新加一个monitor">
	<node_order><![CDATA[1003]]></node_order>
	<externalid><![CDATA[332]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="6119" name="在第二个节点新加一个osd">
	<node_order><![CDATA[1004]]></node_order>
	<externalid><![CDATA[333]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="6148" name="在第二个节点上添加多个osd">
	<node_order><![CDATA[1005]]></node_order>
	<externalid><![CDATA[334]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="6150" name="第三个节点创建monitor">
	<node_order><![CDATA[1006]]></node_order>
	<externalid><![CDATA[335]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="6152" name="第三个节点创建monitor后再创建一个osd">
	<node_order><![CDATA[1007]]></node_order>
	<externalid><![CDATA[336]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="6154" name="第三个节点创建monitor后，再添加多个osd">
	<node_order><![CDATA[1008]]></node_order>
	<externalid><![CDATA[337]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	使用脚本或者手动添加osd</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	添加成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="7154" name="三节点集群，添加monitor">
	<node_order><![CDATA[1009]]></node_order>
	<externalid><![CDATA[358]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>
</testsuite><testsuite id="4549" name="删除mon,osd" >
<node_order><![CDATA[9]]></node_order>
<details><![CDATA[]]></details> 

<testcase internalid="6184" name="3节点集群，删除其中一个节点monitor">
	<node_order><![CDATA[1000]]></node_order>
	<externalid><![CDATA[347]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[<p>
	3个节点集群，3个server，每个server上一个monitor</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	删除其中一个monitor</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	集群上报正常，集群状态正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="6202" name="三节点集群，删除2个monitor">
	<node_order><![CDATA[1001]]></node_order>
	<externalid><![CDATA[353]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	三节点集群，删除2个monitor</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	集群无法工作</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="6205" name="2个节点集群，删除其中给一个monitor">
	<node_order><![CDATA[1002]]></node_order>
	<externalid><![CDATA[354]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	2个节点集群，2个monitor，删除其中一个</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	集群无法工作</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="6207" name="3节点集群，删除一个节点的monitor后，再该节点上再添加monitor">
	<node_order><![CDATA[1003]]></node_order>
	<externalid><![CDATA[355]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="6209" name="3节点集群，删除2个monitor后再添加一个monitor">
	<node_order><![CDATA[1004]]></node_order>
	<externalid><![CDATA[356]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	删除2个monitor后</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	集群无法工作</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	添加1个monitor</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	集群正常工作</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="6211" name="3节点集群，删除2个monitor后再添加2个monitor">
	<node_order><![CDATA[1005]]></node_order>
	<externalid><![CDATA[357]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	删除2个monitor后</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	集群无法工作</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	添加2个monitor</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	集群恢复正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>
</testsuite><testsuite id="5476" name="添加新节点" >
<node_order><![CDATA[13]]></node_order>
<details><![CDATA[]]></details> 

<testcase internalid="7162" name="1节点集群，添加一个新的节点">
	<node_order><![CDATA[1000]]></node_order>
	<externalid><![CDATA[359]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="7171" name="1个节点集群，添加2个节点">
	<node_order><![CDATA[1001]]></node_order>
	<externalid><![CDATA[363]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="7173" name="3个节点集群，添加1个节点">
	<node_order><![CDATA[1002]]></node_order>
	<externalid><![CDATA[364]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="7175" name="3节点集群，添加2个节点">
	<node_order><![CDATA[1003]]></node_order>
	<externalid><![CDATA[365]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>
</testsuite><testsuite id="7156" name="Crush" >
<node_order><![CDATA[14]]></node_order>
<details><![CDATA[]]></details> 

<testcase internalid="7177" name="从monitor节点上获取CRUSH map">
	<node_order><![CDATA[0]]></node_order>
	<externalid><![CDATA[366]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd getcrushmap -o crushmap</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	&nbsp;ls 查看到crushmap</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="7179" name="反编译CRUSH map">
	<node_order><![CDATA[1]]></node_order>
	<externalid><![CDATA[367]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<pre style="white-space: pre-wrap; word-wrap: break-word; box-sizing: border-box; margin-top: 0px; margin-bottom: 10.5px; font-family: 'Source Code Pro', monospace; padding: 10px; font-size: 14px; line-height: 1.45; word-break: break-all; color: rgb(51, 51, 51); border: 1px solid rgba(128, 128, 128, 0.0745098); border-radius: 0px; background-color: rgba(128, 128, 128, 0.0470588);">
<code style="box-sizing: border-box; font-family: 'Source Code Pro', monospace; padding: 0px; font-size: inherit; color: inherit; white-space: pre; border-radius: 0px; word-wrap: normal; background-color: transparent;">crushtool -d crushmap -o crushmap1</code></pre>
]]></actions>
	<expectedresults><![CDATA[<p>
	没有报错</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="7181" name="编辑新的crushmap">
	<node_order><![CDATA[2]]></node_order>
	<externalid><![CDATA[368]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	vi打开crushmap1修改其中osd.0的weigth为2</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	修改成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="7748" name="将新编辑的crushmap进行编译，应用到集群中去">
	<node_order><![CDATA[3]]></node_order>
	<externalid><![CDATA[385]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<pre style="white-space: pre-wrap; word-wrap: break-word; box-sizing: border-box; margin-top: 0px; margin-bottom: 10.5px; font-family: 'Source Code Pro', monospace; padding: 10px; font-size: 14px; line-height: 1.45; word-break: break-all; color: rgb(51, 51, 51); border: 1px solid rgba(128, 128, 128, 0.0745098); border-radius: 0px; background-color: rgba(128, 128, 128, 0.0470588);">
<code style="box-sizing: border-box; font-family: 'Source Code Pro', monospace; padding: 0px; font-size: inherit; color: inherit; white-space: pre; border-radius: 0px; word-wrap: normal; background-color: transparent;">重新编译这个新的CRUSH map</code></pre>
<p>
	crushtool -c crushmap1 -o crushmap2</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	编译正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<pre style="white-space: pre-wrap; word-wrap: break-word; box-sizing: border-box; margin-top: 0px; margin-bottom: 10.5px; font-family: 'Source Code Pro', monospace; padding: 10px; font-size: 14px; line-height: 1.45; word-break: break-all; color: rgb(51, 51, 51); border: 1px solid rgba(128, 128, 128, 0.0745098); border-radius: 0px; background-color: rgba(128, 128, 128, 0.0470588);">
<code style="box-sizing: border-box; font-family: 'Source Code Pro', monospace; padding: 0px; font-size: inherit; color: inherit; white-space: pre; border-radius: 0px; word-wrap: normal; background-color: transparent;">将新的CRUSH map 应用到ceph 集群中</code></pre>
<p>
	<code style="box-sizing: border-box; font-family: 'Source Code Pro', monospace; padding: 0px; font-size: inherit; color: inherit; white-space: pre; border-radius: 0px; word-wrap: normal; background-color: transparent;">ceph osd setcrushmap -i crushmap2</code></p>
]]></actions>
	<expectedresults><![CDATA[<p>
	成功应用到集群中</p>
<p>
	set crush map</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="7350" name="调整osd.0的权重为0.5">
	<node_order><![CDATA[4]]></node_order>
	<externalid><![CDATA[374]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd crush reweight osd.0 0.5</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	reweighted item id 0 name &#39;osd.0&#39; to 0.5 in crush map</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="7353" name="将某个osd 从crushmap中删除">
	<node_order><![CDATA[5]]></node_order>
	<externalid><![CDATA[375]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<pre>
ceph osd crush remove osd.0</pre>
]]></actions>
	<expectedresults><![CDATA[<p>
	removed item id 0 name &#39;osd.0&#39; from crush map</p>
<p>
	&nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp;0 osd.0</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="7744" name="将一个从crushmap中删除的osd重新添加到crushmap中">
	<node_order><![CDATA[6]]></node_order>
	<externalid><![CDATA[384]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<div style="white-space: pre-wrap; line-height: 1.75; font-size: 14px;" yne-bulb-block="paragraph">
	ceph osd crush add osd.0 1.0 host=a99</div>
]]></actions>
	<expectedresults><![CDATA[<p>
	add item id 0 name &#39;osd.0&#39; weight 1 at location {host=a99} to crush map</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="7356" name="增加bucket">
	<node_order><![CDATA[7]]></node_order>
	<externalid><![CDATA[376]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd crush add-bucket host1 host</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	added bucket host1 type host to crush map</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="7360" name="删除一个empty的bucket">
	<node_order><![CDATA[8]]></node_order>
	<externalid><![CDATA[377]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	ceph osd crush remove host1</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	removed item id -5 name &#39;host1&#39; from crush map</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="7363" name="删除一个非empty的bucket">
	<node_order><![CDATA[9]]></node_order>
	<externalid><![CDATA[378]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	&nbsp;ceph osd crush remove a99</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	Error ENOTEMPTY: (39) Directory not empty</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>
</testsuite><testsuite id="7164" name="删除节点" >
<node_order><![CDATA[15]]></node_order>
<details><![CDATA[]]></details> 

<testcase internalid="7167" name="三节点集群，删除一个节点">
	<node_order><![CDATA[0]]></node_order>
	<externalid><![CDATA[361]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="7165" name="2节点集群，删除一个节点">
	<node_order><![CDATA[1]]></node_order>
	<externalid><![CDATA[360]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[2]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="7319" name="有IO情况下，三个节点集群，删除一个节点">
	<node_order><![CDATA[2]]></node_order>
	<externalid><![CDATA[372]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>

<testcase internalid="7321" name="有IO下，2个节点集群，删除一个节点">
	<node_order><![CDATA[3]]></node_order>
	<externalid><![CDATA[373]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>

</testcase>
</testsuite><testsuite id="8041" name="不同容量硬盘混插与认证" >
<node_order><![CDATA[16]]></node_order>
<details><![CDATA[]]></details> 
<testsuite id="8042" name="不同容量硬盘混插" >
<node_order><![CDATA[1]]></node_order>
<details><![CDATA[]]></details> 

<testcase internalid="8058" name="有不同容量的硬盘时进行初始化并读写">
	<node_order><![CDATA[1000]]></node_order>
	<externalid><![CDATA[389]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[<p>
	1。有多个可用于创建集群的空闲节点</p>
<p>
	2。节点中有不同容量的硬盘</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	初始化集群</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	集群初始化成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	初始化完成后，检查osd的权重信息</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	osd的权重信息按照硬盘的容量进行了设置。（如1T盘的权重为1,2T盘的权重为2,500G的盘权重为0.5；目前和ceph保持一致，权重小数点后保留5位）</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	创建pool及image，并对image下发些进行大数据的写IO</p>
]]></actions>
	<expectedresults><![CDATA[]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	下发写IO过程中，检查各个硬盘容量使用比例是否比较均衡</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	各个硬盘使用容量比例均衡</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[5]]></step_number>
	<actions><![CDATA[<p>
	下发大压力读写任务，观察是否有硬盘成为性能瓶颈</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	无硬盘成为性能瓶颈</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="8062" name="添加一个不同容量的新节点">
	<node_order><![CDATA[1001]]></node_order>
	<externalid><![CDATA[390]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[<p>
	1. 有一个已经初始化好的集群</p>
<p>
	2. 有一个新节点，该节点有不同容量的硬盘</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	创建pool及image，并对image写入大量数据</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	硬盘容量使用率比较均衡</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	添加新节点</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	新节点添加成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	检查新节点osd的权重是否根据硬盘容量进行的设置</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	该节点的osd的权重根据硬盘的容量进行了设置（如1T盘的权重为1,2T盘的权重为2,500G的盘权重为0.5；目前和ceph保持一致，权重小数点后保留5位）</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	数据重排布结束后，检查各硬盘使用率是否比较均衡</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	各硬盘使用率比较均衡</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[5]]></step_number>
	<actions><![CDATA[<p>
	继续想image写入数据，检查硬盘使用率是否均衡</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	硬盘使用率比较均衡</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[6]]></step_number>
	<actions><![CDATA[<p>
	下发大压力读写任务，观察是否有硬盘成为性能瓶颈</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	无硬盘成为性能瓶颈</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="8066" name="添加多个不同容量的硬盘">
	<node_order><![CDATA[1002]]></node_order>
	<externalid><![CDATA[391]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[<p>
	1. 已经初始化好的集群</p>
<p>
	2. 多个不同容量的空闲硬盘</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	创建pool及image，并向image写入大量数据</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	硬盘使用率比较均衡</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	向集群插入多个不同容量的硬盘，检查其对应OSD的权重是否按容量进行了配置</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	新增OSD的权重按照容量进行了配置（如1T盘的权重为1,2T盘的权重为2,500G的盘权重为0.5）</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	待重排布结束后，检查各硬盘使用率是否均衡</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	硬盘使用率比较均衡</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	继续向image写入数据，检查各硬盘使用率是否均衡</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	硬盘使用率比较均衡</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[5]]></step_number>
	<actions><![CDATA[<p>
	下发大压力读写任务，观察是否有硬盘成为性能瓶颈</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	无硬盘成为性能瓶颈</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="8322" name="重排布完成后，使用不同容量的硬盘替换">
	<node_order><![CDATA[1003]]></node_order>
	<externalid><![CDATA[393]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[<p>
	1. 集群已经创建好</p>
<p>
	2. 已经创建好image，并下发了大量数据</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	&nbsp;拔出一块硬盘，重排布结束后检查各硬盘数据是否均衡</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	硬盘使用率达到均衡</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	插入一块新硬盘进行替换</p>
]]></actions>
	<expectedresults><![CDATA[]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	检查新加入OSD的权值是否按硬盘容量进行了配置</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	新加入OSD的权值按硬盘容量进行了配置（如1T盘的权重为1,2T盘的权重为2,500G的盘权重为0.5）</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	重排布结束后检查各硬盘使用率是否均衡</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	各硬盘使用率达到均衡</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="8342" name="有不同容量的硬盘时创建多个pool并读写">
	<node_order><![CDATA[1004]]></node_order>
	<externalid><![CDATA[394]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[<p>
	1. 集群已经创建好。</p>
<p>
	2. 集群中有不同容量的硬盘</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	创建多个pool，并在pool中创建image</p>
]]></actions>
	<expectedresults><![CDATA[]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	向各image中下发大量写IO。检查各硬盘使用率是否均衡</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	各硬盘使用率均衡</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="8351" name="写入大量数据后，删除pool">
	<node_order><![CDATA[1005]]></node_order>
	<externalid><![CDATA[395]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[<p>
	1. 集群中有不同容量的硬盘</p>
<p>
	2. 集群中已经创建多个pool及image，并下发了大量写数据</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	删除其中一个pool的image，并删除pool</p>
]]></actions>
	<expectedresults><![CDATA[]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	检查各硬盘使用率是否均衡</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	各硬盘使用率比较均衡</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="8455" name="更换硬盘">
	<node_order><![CDATA[1006]]></node_order>
	<externalid><![CDATA[396]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[<p>
	1. 已经创建好pool及image，并写入大量数据</p>
<p>
	&nbsp;</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	拔出一块硬盘后，立即加入一块容量不一样的盘</p>
]]></actions>
	<expectedresults><![CDATA[]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	检查新加入OSD的权重是否按硬盘的容量进行配置</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	新加入OSD的权重按硬盘的容量进行了配置（如1T盘的权重为1,2T盘的权重为2,500G的盘权重为0.5）</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	检查重排布过程中，数据是否向新盘迁移</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	重排布过程中，数据向新盘迁移</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[4]]></step_number>
	<actions><![CDATA[<p>
	重排布完成后，检查各盘的使用率是否均衡</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	各盘的使用率均衡</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[5]]></step_number>
	<actions><![CDATA[<p>
	对于其他不同容量的硬盘，重复步骤1-5，</p>
]]></actions>
	<expectedresults><![CDATA[]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="9689" name="有不同容量的硬盘时创建多个大小差异比较大的pool">
	<node_order><![CDATA[1007]]></node_order>
	<externalid><![CDATA[399]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[<p>
	1，集群已经创建好</p>
<p>
	2，集群中有不同容量的硬盘</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	UI创建一个大容量pool，并创建多个较大的image。image大小总和不要超过pool容量；</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	UI创建一个小容量pool，并创建多个较小的image。image大小总和不要超过pool容量；</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	创建成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[3]]></step_number>
	<actions><![CDATA[<p>
	对所有pool的image下发大量写IO，检查硬盘使用率是否均衡；命令:ceph osd tree;ceph df;</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	各硬盘使用率均衡</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>
</testsuite><testsuite id="8043" name="硬盘认证" >
<node_order><![CDATA[2]]></node_order>
<details><![CDATA[]]></details> 

<testcase internalid="8153" name="添加认证的盘">
	<node_order><![CDATA[0]]></node_order>
	<externalid><![CDATA[392]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	touch /tmp/.diskcheckignore 可以屏蔽磁盘认证</p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群已经初始化</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	向集群中添加认证的盘</p>
]]></actions>
	<expectedresults><![CDATA[]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	检查UI上是否显示硬盘已经认证，且OSD启动正常</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	UI上显示硬盘已认证，OSD启动成功</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="9103" name="屏蔽硬盘认证">
	<node_order><![CDATA[1]]></node_order>
	<externalid><![CDATA[398]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	该功能为可测试性需求，考虑万一该功能拿来做为功能使用，因此增加用例对其进行验证。</p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群已经初始化完成</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	<span style="font-family: &quot;Trebuchet MS&quot;, Arial, Verdana, sans-serif; font-size: 12px; background-color: rgb(238, 238, 238);">touch /tmp/.diskcheckignore 来屏蔽磁盘认证</span></p>
]]></actions>
	<expectedresults><![CDATA[]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	添加未通过认证的硬盘，检查UI是否显示正常，OSD是否启动正常</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	UI显示正常，OSD启动正常</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="8872" name="添加未认证的硬盘">
	<node_order><![CDATA[2]]></node_order>
	<externalid><![CDATA[397]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	touch /tmp/.diskcheckignore 可以屏蔽磁盘认证</p>
]]></summary>
	<preconditions><![CDATA[<p>
	集群已经初始化</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	向集群中添加未认证的硬盘</p>
]]></actions>
	<expectedresults><![CDATA[]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	检查UI上是否显示该硬盘没有认证，且OSD没有启动</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	UI上显示该硬盘没有认证，OSD不会启动</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="9755" name="硬盘未认证时验证集群UI初始化是否失败">
	<node_order><![CDATA[3]]></node_order>
	<externalid><![CDATA[400]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[]]></summary>
	<preconditions><![CDATA[<p>
	1，所有硬盘都是未认证的；</p>
]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	执行集群UI初始化操作</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	UI初始化失败，有正确的错误原因提示。</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>

<testcase internalid="9758" name="部分硬盘未认证时集群初始化">
	<node_order><![CDATA[4]]></node_order>
	<externalid><![CDATA[401]]></externalid>
	<version><![CDATA[1]]></version>
	<summary><![CDATA[<p>
	1 部分硬盘未认证；</p>
<p>
	2 部分硬盘能通过认证；</p>
]]></summary>
	<preconditions><![CDATA[]]></preconditions>
	<execution_type><![CDATA[1]]></execution_type>
	<importance><![CDATA[2]]></importance>
	<estimated_exec_duration></estimated_exec_duration>
	<status>1</status>
	<is_open>1</is_open>
	<active>1</active>
<steps>
<step>
	<step_number><![CDATA[1]]></step_number>
	<actions><![CDATA[<p>
	1，执行集群UI初始化操作</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	2，UI初始化成功，提示正确</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>

<step>
	<step_number><![CDATA[2]]></step_number>
	<actions><![CDATA[<p>
	UI初始化成功后查看UI界面</p>
]]></actions>
	<expectedresults><![CDATA[<p>
	UI界面有未认证的硬盘提示，相关盘的osd也未启动</p>
]]></expectedresults>
	<execution_type><![CDATA[1]]></execution_type>
</step>
</steps>
</testcase>
</testsuite></testsuite></testsuite></data>